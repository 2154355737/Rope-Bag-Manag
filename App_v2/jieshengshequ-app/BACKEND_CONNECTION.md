# 后端连接配置说明

## 📋 当前配置

### 后端服务器
- **地址**: `http://127.0.0.1:15201`
- **API端点**: `http://127.0.0.1:15201/api/v1`
- **健康检查**: `http://127.0.0.1:15201/health`

### 前端开发服务器
- **地址**: `http://localhost:8002`
- **代理配置**: 已配置将 `/api` 请求代理到后端服务器

## 🚀 启动步骤

### 1. 启动后端服务器
```bash
cd rope-manager-backend
cargo run --release
# 或者使用批处理文件
start.bat
```

### 2. 启动前端开发服务器
```bash
cd App_v2/jieshengshequ-app
npm run dev
# 或者
yarn dev
```

## 🧪 测试连接

前端应用启动后，会自动运行后端连接测试。查看浏览器控制台：

### 成功的输出示例：
```
🧪 开始测试后端连接...
✅ 健康检查通过: { status: "healthy", message: "绳包管理器后端服务运行正常" }
✅ 分类API测试通过: [...]
ℹ️ 通知API需要登录（正常）
🎉 后端连接测试完成
```

### 失败的输出示例：
```
❌ 后端连接测试失败: 网络连接失败，请检查网络或后端服务
```

## 🔧 故障排除

### 1. 后端服务未启动
**症状**: 控制台显示网络连接失败
**解决**: 确保后端服务器在端口15201上运行

### 2. 端口冲突
**症状**: 服务启动失败
**解决**: 修改 `vite.config.ts` 中的端口配置

### 3. 代理配置问题
**症状**: API请求返回404
**解决**: 检查 `vite.config.ts` 中的代理配置

### 4. CORS问题
**症状**: 跨域请求被阻止
**解决**: 检查后端的CORS配置

## 📱 功能说明

### 已实现的功能
- ✅ 用户认证（登录/注册）
- ✅ 通知系统
- ✅ 分类浏览
- ✅ 路由保护
- ✅ 401错误自动处理

### API端点
- `GET /notifications` - 获取通知列表
- `GET /notifications/unread-count` - 获取未读通知数量
- `POST /notifications/{id}/read` - 标记通知为已读
- `POST /notifications/mark-all-read` - 标记所有通知为已读
- `POST /auth/login` - 用户登录
- `POST /auth/register` - 用户注册
- `GET /categories` - 获取分类列表

## 🔍 调试工具

应用包含内置的调试工具：
- 自动后端连接测试
- 环境信息检查
- API错误详细报告
- 开发模式下的详细日志

查看浏览器控制台获取详细的调试信息。 