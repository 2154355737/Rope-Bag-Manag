# 变更日志

所有重要的变更都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [2.1.8] - 2025-01-08

### ✨ 新增
- **头像点击跳转功能**：通用详细页和评论区的头像现在支持点击跳转到用户信息详细页
- **统一导航栏组件**：排行页和用户信息详细页现在使用通知页面的顶部导航栏组件，提升界面一致性
- **安全区域支持**：在globals.css中添加完整的安全区域支持样式，确保内容在各种设备上正确显示

### 🔧 优化
- **用户体验改进**：
  - 头像和作者姓名添加悬停效果（环形高亮、颜色变化）
  - 评论区头像点击支持跳转到用户资料页面
  - 排行页面和用户资料页面导航栏统一化
- **页面布局优化**：
  - 修复页面内容安全区域预留问题
  - 优化移动端适配，支持刘海屏和手势导航
  - 改进响应式布局和触摸交互

### 🛠️ 技术改进
- **代码复用**：减少重复的导航栏代码，提高维护性
- **类型安全**：为评论接口添加author.id字段支持
- **CSS变量系统**：使用CSS变量管理安全区域和导航栏高度
- **数据结构优化**：更新所有评论数据映射，确保包含作者ID信息

### 🐛 修复
- **依赖注入问题**：修复后端PackageRepository依赖注入类型不匹配问题
- **数据库触发器**：修复SQLite触发器中GREATEST函数兼容性问题，改用MAX函数
- **JSX结构**：修复页面组件嵌套结构问题
- **API错误处理**：改进前端JSON解析错误处理，提供更友好的错误信息

## [2.1.7] - 2025-01-07

### ✨ 新增
- **关注功能**：完整的用户关注/取消关注系统
- **排行榜功能**：用户、资源、帖子排行榜
- **用户资料页面**：动态加载用户内容和关注统计

### 🔧 优化
- **数据库结构**：新增关注相关表和触发器
- **API接口**：实现关注状态管理和排行榜查询
- **前端交互**：优化用户资料页面加载和显示

## [2.1.6] - 2025-01-06

### 🛠️ 技术改进
- **数据库修复服务**：新增数据库结构修复工具
- **API接口扩展**：实现用户帖子、资源和内容查询接口
- **前端优化**：改进用户资料页面数据加载机制

## [2.1.5] - 之前版本

### 基础功能
- 社区基础功能实现
- 用户认证和授权
- 帖子和资源管理
- 评论系统
- 基础UI组件库 