# ç»³åŒ…ç®¡ç†å™¨ (Rope Package Manager)

[![Rust](https://img.shields.io/badge/Rust-1.70+-blue.svg)](https://www.rust-lang.org/)
[![Actix Web](https://img.shields.io/badge/Actix%20Web-4.4-green.svg)](https://actix.rs/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## ğŸ“– é¡¹ç›®ä»‹ç»

ç»³åŒ…ç®¡ç†å™¨æ˜¯ä¸€ä¸ªåŸºäº Rust å’Œ Actix Web æ¡†æ¶å¼€å‘çš„ç°ä»£åŒ–åŒ…ç®¡ç†ç³»ç»Ÿã€‚è¯¥ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„ç”¨æˆ·ç®¡ç†ã€åŒ…ç®¡ç†ã€æƒé™æ§åˆ¶å’Œç»Ÿè®¡åˆ†æåŠŸèƒ½ï¼Œé€‚ç”¨äºå„ç§åŒ…åˆ†å‘å’Œç®¡ç†åœºæ™¯ã€‚

### ğŸ¯ ä¸»è¦ç‰¹æ€§

- **ğŸ” ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ**: æ”¯æŒç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†
- **ğŸ“¦ åŒ…ç®¡ç†åŠŸèƒ½**: ç»³åŒ…çš„æ·»åŠ ã€åˆ é™¤ã€ä¸‹è½½ç»Ÿè®¡
- **ğŸ‘‘ ç®¡ç†å‘˜æƒé™**: å®Œæ•´çš„åå°ç®¡ç†åŠŸèƒ½
- **ğŸ“Š æ•°æ®ç»Ÿè®¡**: APIè°ƒç”¨ç»Ÿè®¡ã€ä¸‹è½½é‡ç»Ÿè®¡
- **ğŸ›¡ï¸ å®‰å…¨æœºåˆ¶**: é™æµä¿æŠ¤ã€æ—¥å¿—è®°å½•ã€ä¼šè¯ç®¡ç†
- **ğŸ“ æ—¥å¿—ç³»ç»Ÿ**: å®Œæ•´çš„è¯·æ±‚æ—¥å¿—å’Œæ€§èƒ½ç›‘æ§
- **âš™ï¸ é…ç½®ç®¡ç†**: çµæ´»çš„é…ç½®æ–‡ä»¶ç³»ç»Ÿï¼Œæ”¯æŒçƒ­é‡è½½

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Rust 1.70+ 
- Windows/Linux/macOS

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd rust
```

2. **ç¼–è¯‘é¡¹ç›®**
```bash
cargo build --release
```

3. **å¯åŠ¨æœåŠ¡**
```bash
# Windows
start_server.bat

# Linux/macOS
cargo run --release
```

4. **è®¿é—®æœåŠ¡**
```
æœåŠ¡åœ°å€: http://127.0.0.1:15201
```

## ğŸ“‹ åŠŸèƒ½æ¨¡å—

### ç”¨æˆ·ç®¡ç†
- âœ… ç”¨æˆ·æ³¨å†Œä¸ç™»å½•
- âœ… ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢
- âœ… å¯†ç å’Œæ˜µç§°ä¿®æ”¹
- âœ… ç”¨æˆ·ç­¾åˆ°ç³»ç»Ÿ
- âœ… ç”¨æˆ·æ˜Ÿçº§ç®¡ç†
- âœ… ç”¨æˆ·å°ç¦/è§£å°

### åŒ…ç®¡ç†
- âœ… ç»³åŒ…æ·»åŠ ä¸åˆ é™¤
- âœ… åŒ…ä¿¡æ¯æŸ¥è¯¢
- âœ… ä¸‹è½½ç»Ÿè®¡
- âœ… ç‰ˆæœ¬ç®¡ç†
- âœ… ä½œè€…ä¿¡æ¯

### ç®¡ç†å‘˜åŠŸèƒ½
- âœ… ç”¨æˆ·ç®¡ç†
- âœ… åŒ…ç®¡ç†
- âœ… æƒé™è®¾ç½®
- âœ… æ•°æ®ç»Ÿè®¡
- âœ… æ—¥å¿—æŸ¥çœ‹

### ç³»ç»ŸåŠŸèƒ½
- âœ… è¯·æ±‚é™æµ
- âœ… æ—¥å¿—è®°å½•
- âœ… æ€§èƒ½ç›‘æ§
- âœ… é…ç½®ç®¡ç†
- âœ… é”™è¯¯å¤„ç†

## ğŸ”§ é…ç½®è¯´æ˜

é¡¹ç›®ä½¿ç”¨å¤šä¸ªé…ç½®æ–‡ä»¶æ¥ç®¡ç†ä¸åŒåŠŸèƒ½ï¼š

- `config.json` - ä¸»é…ç½®æ–‡ä»¶ï¼ˆæœåŠ¡å™¨ã€æ—¥å¿—ã€å®‰å…¨è®¾ç½®ï¼‰
- `users.json` - ç”¨æˆ·æ•°æ®æ–‡ä»¶
- `data.json` - ç»³åŒ…æ•°æ®æ–‡ä»¶
- `stats.json` - ç»Ÿè®¡æ•°æ®æ–‡ä»¶

è¯¦ç»†é…ç½®è¯´æ˜è¯·å‚è€ƒ [é…ç½®æ–‡ä»¶è¯´æ˜æ–‡æ¡£](docs/é…ç½®æ–‡ä»¶è¯´æ˜.md)

## ğŸ“š API æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯
- **æœåŠ¡åœ°å€**: `http://127.0.0.1:15201`
- **åè®®**: HTTP GET
- **æ•°æ®æ ¼å¼**: JSON

### ä¸»è¦æ¥å£

#### ç”¨æˆ·ç®¡ç†
- `GET /api/register` - ç”¨æˆ·æ³¨å†Œ
- `GET /api/login` - ç”¨æˆ·ç™»å½•
- `GET /api/user-info` - æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
- `GET /api/sign-in` - ç”¨æˆ·ç­¾åˆ°
- `GET /api/change-password` - ä¿®æ”¹å¯†ç 
- `GET /api/change-nickname` - ä¿®æ”¹æ˜µç§°

#### åŒ…ç®¡ç†
- `GET /api/add-rope-package` - æ·»åŠ ç»³åŒ…
- `GET /api/download-rope-package` - ä¸‹è½½ç»Ÿè®¡
- `GET /api/get-data-db` - è·å–åŒ…æ•°æ®

#### ç®¡ç†å‘˜åŠŸèƒ½
- `GET /api/admin/user-info` - ç®¡ç†å‘˜æŸ¥è¯¢ç”¨æˆ·
- `GET /api/admin/set-user` - è®¾ç½®ç”¨æˆ·ä¿¡æ¯
- `GET /api/admin/set-star` - è®¾ç½®ç”¨æˆ·æ˜Ÿçº§
- `GET /api/admin/ban-user` - å°ç¦/è§£å°ç”¨æˆ·
- `GET /api/admin/add-rope-package` - ç®¡ç†å‘˜æ·»åŠ åŒ…
- `GET /api/admin/delete-rope-package` - ç®¡ç†å‘˜åˆ é™¤åŒ…

#### ç»Ÿè®¡åŠŸèƒ½
- `GET /api/stats/downloads` - ä¸‹è½½ç»Ÿè®¡
- `GET /api/stats/api-counts` - APIè°ƒç”¨ç»Ÿè®¡

å®Œæ•´APIæ–‡æ¡£è¯·å‚è€ƒ [æ¥å£æ–‡æ¡£](docs/æ¥å£æ–‡æ¡£.md)

## ğŸ“ é¡¹ç›®ç»“æ„

```
rust/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs              # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ config.rs            # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ auth.rs              # è®¤è¯æ¨¡å—
â”‚   â”œâ”€â”€ models.rs            # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ storage.rs           # æ•°æ®å­˜å‚¨
â”‚   â”œâ”€â”€ logger.rs            # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ utils.rs             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ cmd.rs               # å‘½ä»¤å¤„ç†
â”‚   â””â”€â”€ handlers/            # è¯·æ±‚å¤„ç†å™¨
â”‚       â”œâ”€â”€ mod.rs
â”‚       â”œâ”€â”€ login.rs         # ç™»å½•å¤„ç†
â”‚       â”œâ”€â”€ register.rs      # æ³¨å†Œå¤„ç†
â”‚       â”œâ”€â”€ user.rs          # ç”¨æˆ·ç®¡ç†
â”‚       â”œâ”€â”€ package.rs       # åŒ…ç®¡ç†
â”‚       â”œâ”€â”€ admin.rs         # ç®¡ç†å‘˜åŠŸèƒ½
â”‚       â”œâ”€â”€ stats.rs         # ç»Ÿè®¡åŠŸèƒ½
â”‚       â””â”€â”€ logs.rs          # æ—¥å¿—åŠŸèƒ½
â”œâ”€â”€ data/                    # æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.json          # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ users.json           # ç”¨æˆ·æ•°æ®
â”‚   â”œâ”€â”€ data.json            # åŒ…æ•°æ®
â”‚   â””â”€â”€ stats.json           # ç»Ÿè®¡æ•°æ®
â”œâ”€â”€ docs/                    # æ–‡æ¡£
â”‚   â”œâ”€â”€ æ¥å£æ–‡æ¡£.md
â”‚   â”œâ”€â”€ é…ç½®æ–‡ä»¶è¯´æ˜.md
â”‚   â””â”€â”€ æ—¥å¿—ç³»ç»Ÿè¯´æ˜.md
â”œâ”€â”€ logs/                    # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ Cargo.toml              # é¡¹ç›®é…ç½®
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `handlers/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„å¤„ç†å™¨
2. åœ¨ `main.rs` ä¸­æ³¨å†Œæ–°çš„è·¯ç”±
3. æ›´æ–°ç›¸å…³æ–‡æ¡£

### æµ‹è¯•

```bash
# è¿è¡Œæµ‹è¯•
cargo test

# è¿è¡Œç‰¹å®šæµ‹è¯•
cargo test test_name
```

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f logs/app.log
```

## ğŸ“Š æ€§èƒ½ç‰¹æ€§

- **é«˜å¹¶å‘**: åŸºäº Actix Web çš„å¼‚æ­¥å¤„ç†
- **å†…å­˜å®‰å…¨**: Rust è¯­è¨€çš„å†…å­˜å®‰å…¨ä¿è¯
- **é›¶æˆæœ¬æŠ½è±¡**: ç¼–è¯‘æ—¶ä¼˜åŒ–
- **çƒ­é‡è½½**: é…ç½®æ–‡ä»¶æ”¯æŒçƒ­é‡è½½
- **é™æµä¿æŠ¤**: é˜²æ­¢æ¶æ„è¯·æ±‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- QQ 2154355737
- æäº¤ Issue
- å‘é€é‚®ä»¶ 21543557372@qq.com
- å‚ä¸è®¨è®º Muteduaxning

---

**ç»³åŒ…ç®¡ç†å™¨** - è®©åŒ…ç®¡ç†å˜å¾—ç®€å•é«˜æ•ˆï¼ ğŸš€
