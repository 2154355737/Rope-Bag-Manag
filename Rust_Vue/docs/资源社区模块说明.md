# 资源社区模块说明

## 概述

资源社区模块是网站的主页和核心功能模块，用户可以通过社区登录后进入管理后台。该模块与后台管理系统分离，具有独立的界面和功能。

## 网站结构

### 主要页面流程
1. **首页** (`/`) → 自动重定向到资源社区 (`/community`)
2. **资源社区** (`/community`) → 网站主页，展示各种资源
3. **登录页面** (`/login`) → 用户登录入口
4. **管理后台** (`/dashboard`) → 登录后的管理界面

### 用户访问流程
```
访客 → 资源社区主页 → 浏览资源 → 登录 → 管理后台
  ↓
未登录用户 → 社区浏览 → 点击"登录管理" → 登录页面
  ↓
已登录用户 → 社区浏览 → 点击"管理后台" → 仪表盘
```

## 功能特性

### 核心功能
- **资源展示**：展示各种类型的资源，包括模板、工具、教程、设计素材等
- **资源上传**：用户可以上传自己的资源，支持多种文件格式
- **资源下载**：用户可以下载需要的资源
- **资源搜索**：支持关键词搜索和分类筛选
- **用户互动**：点赞、收藏、评论等社交功能
- **用户管理**：关注作者、查看用户资料等
- **登录入口**：提供便捷的登录和管理后台入口

### 分类系统
- **模板资源**：各种项目模板和组件库
- **工具软件**：开发工具和实用软件
- **教程文档**：学习资料和技术文档
- **设计素材**：UI设计素材和图标
- **代码片段**：可复用的代码片段
- **数据资源**：数据集和配置文件

## 技术架构

### 前端技术栈
- **Vue 3.5.17**：使用 Composition API
- **TypeScript**：类型安全的开发体验
- **Element Plus 2.10.3**：UI组件库
- **Vue Router 4.5.1**：路由管理
- **Axios 1.10.0**：HTTP请求

### 目录结构
```
src/
├── views/
│   └── community/
│       ├── desktop/
│       │   ├── CommunityHome.vue      # 桌面端社区主页
│       │   └── ResourceDetail.vue     # 桌面端资源详情
│       └── mobile/
│           ├── CommunityHome.vue      # 移动端社区主页
│           └── ResourceDetail.vue     # 移动端资源详情
├── api/
│   └── community.ts                   # 社区API接口
└── components/
    ├── desktop/
    │   ├── CommunityLink.vue         # 桌面端社区入口
    │   └── CommunityNav.vue          # 桌面端社区导航
    └── mobile/
        └── CommunityLink.vue         # 移动端社区入口
```

## 页面说明

### 1. 社区主页 (CommunityHome.vue)

#### 桌面端特性
- **顶部横幅**：展示社区介绍和主要操作按钮
- **登录入口**：未登录显示"登录管理"，已登录显示"管理后台"
- **搜索栏**：支持关键词搜索资源
- **分类导航**：网格布局展示各个资源分类
- **热门资源**：卡片式展示热门资源
- **最新资源**：列表式展示最新上传的资源
- **上传功能**：弹窗式资源上传界面

#### 移动端特性
- **顶部搜索**：固定在顶部的搜索栏
- **分类标签**：横向滚动的分类标签
- **轮播展示**：热门资源的轮播展示
- **列表展示**：最新资源的列表展示
- **悬浮按钮组**：上传、登录、管理后台的悬浮按钮

### 2. 资源详情页 (ResourceDetail.vue)

#### 桌面端特性
- **面包屑导航**：显示页面层级关系
- **资源信息**：左侧封面，右侧详细信息
- **操作按钮**：下载、收藏、分享等操作
- **详细信息**：文件大小、格式、版本等信息
- **资源介绍**：详细的资源介绍和使用说明
- **评论系统**：用户评论和评分功能
- **侧边栏**：作者信息、相关资源、下载统计

#### 移动端特性
- **顶部导航**：返回按钮和分享按钮
- **封面展示**：全宽的封面图片展示
- **信息卡片**：资源基本信息和操作按钮
- **作者信息**：作者头像和基本信息
- **详情列表**：资源详细信息的列表展示
- **评论系统**：移动端优化的评论界面

## 路由配置

### 主要路由
- `/` → 重定向到 `/community`
- `/community` - 资源社区主页
- `/community/resource/:id` - 资源详情页
- `/community/hot` - 热门资源页
- `/community/latest` - 最新资源页
- `/community/category/:category` - 分类资源页
- `/login` - 用户登录页
- `/dashboard` - 管理后台主页

### 路由守卫逻辑
- 未登录用户访问需要认证的页面 → 重定向到社区主页
- 已登录用户访问登录页 → 重定向到管理后台
- 社区页面无需登录即可访问

## 登录集成

### 登录入口
1. **桌面端**：在社区主页横幅中显示登录/管理按钮
2. **移动端**：在悬浮按钮组中显示登录/管理按钮
3. **后台系统**：在侧边栏或顶部导航中添加社区入口

### 登录状态管理
- 使用 `isLoggedIn()` 函数检查登录状态
- 根据登录状态动态显示不同的按钮
- 登录后自动跳转到管理后台

## API接口

### 资源管理
- `GET /api/community/resources` - 获取资源列表
- `GET /api/community/resources/:id` - 获取资源详情
- `POST /api/community/resources` - 上传资源
- `PUT /api/community/resources/:id` - 更新资源
- `DELETE /api/community/resources/:id` - 删除资源

### 分类管理
- `GET /api/community/categories` - 获取分类列表
- `GET /api/community/resources/hot` - 获取热门资源
- `GET /api/community/resources/latest` - 获取最新资源

### 用户交互
- `POST /api/community/resources/:id/like` - 点赞/取消点赞
- `POST /api/community/resources/:id/favorite` - 收藏/取消收藏
- `GET /api/community/resources/:id/download` - 下载资源

### 评论系统
- `GET /api/community/resources/:id/comments` - 获取评论列表
- `POST /api/community/resources/:id/comments` - 发表评论
- `POST /api/community/comments/:id/like` - 点赞评论
- `DELETE /api/community/comments/:id` - 删除评论

### 搜索功能
- `GET /api/community/search` - 搜索资源
- `GET /api/community/tags` - 获取标签列表
- `GET /api/community/tags/:tag/resources` - 根据标签获取资源

## 设计规范

### 响应式设计
- **桌面端**：1200px+ 宽屏布局，多列展示
- **平板端**：768px-1199px 中等屏幕适配
- **移动端**：<768px 单列布局，触摸优化

### 主题系统
- 支持8种主题模式切换
- 遵循项目的CSS变量系统
- 支持深色模式和浅色模式

### 无障碍支持
- 遵循WCAG 2.1 AA标准
- 支持键盘导航
- 提供高对比度模式
- 支持减少动画模式

## 性能优化

### 代码分割
- 使用动态导入实现路由懒加载
- 按设备类型分别加载桌面端和移动端组件
- 预加载重要页面提升用户体验

### 图片优化
- 支持图片懒加载
- 提供多种尺寸的图片
- 使用WebP格式提升加载速度

### 缓存策略
- API响应缓存
- 静态资源缓存
- 用户偏好设置缓存

## 部署说明

### 构建配置
```bash
# 开发环境
npm run dev

# 生产构建
npm run build

# 预览构建结果
npm run preview
```

### 环境变量
```env
# API基础URL
VITE_API_BASE_URL=http://localhost:3000

# 资源社区配置
VITE_COMMUNITY_ENABLED=true
VITE_COMMUNITY_TITLE=资源社区
```

## 开发指南

### 添加新功能
1. 在对应的视图目录创建组件
2. 在API文件中添加接口定义
3. 在路由配置中添加路由
4. 更新相关文档

### 样式开发
- 使用CSS变量保持一致性
- 遵循8px网格系统
- 支持主题切换
- 确保响应式适配

### 测试建议
- 单元测试：组件功能测试
- 集成测试：API接口测试
- E2E测试：用户流程测试
- 性能测试：加载速度测试

## 注意事项

### 安全性
- 文件上传类型验证
- 用户权限控制
- XSS防护
- CSRF防护

### 用户体验
- 加载状态提示
- 错误处理机制
- 操作反馈
- 离线支持

### 维护性
- 代码注释完整
- 类型定义清晰
- 组件复用性
- 文档及时更新 