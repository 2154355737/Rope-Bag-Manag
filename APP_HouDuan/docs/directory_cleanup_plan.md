# ç»³åŒ…ç®¡ç†å™¨åç«¯é¡¹ç›®æ•´ç†æ–¹æ¡ˆ

## ğŸ“Š é¡¹ç›®ç°çŠ¶åˆ†æ

### å½“å‰é—®é¢˜
1. **æ ¹ç›®å½•æ–‡ä»¶è¿‡å¤š**: 27ä¸ªRustè„šæœ¬ + 12ä¸ªSQLæ–‡ä»¶ + 8ä¸ªæ–‡æ¡£æ–‡ä»¶
2. **è„šæœ¬åŠŸèƒ½é‡å **: å¤šä¸ªåŠŸèƒ½ç›¸ä¼¼çš„æ£€æŸ¥å’Œä¿®å¤è„šæœ¬
3. **æ•°æ®åº“è„šæœ¬åˆ†æ•£**: sql/ç›®å½•å’Œæ ¹ç›®å½•éƒ½æœ‰SQLæ–‡ä»¶
4. **ç¼ºä¹åˆ†ç±»**: å·¥å…·è„šæœ¬ã€æµ‹è¯•è„šæœ¬ã€æ–‡æ¡£æ··åœ¨ä¸€èµ·

## ğŸ¯ æ•´ç†ç›®æ ‡

### æ–°çš„ç›®å½•ç»“æ„
```
rope-manager-backend/
â”œâ”€â”€ ğŸ“ src/                    # æ ¸å¿ƒæºä»£ç  (ä¿æŒä¸å˜)
â”œâ”€â”€ ğŸ“ tools/                  # å·¥å…·è„šæœ¬ç›®å½• (æ–°å»º)
â”‚   â”œâ”€â”€ ğŸ“ database/          # æ•°æ®åº“å·¥å…·
â”‚   â”œâ”€â”€ ğŸ“ admin/             # ç®¡ç†å·¥å…·  
â”‚   â”œâ”€â”€ ğŸ“ test/              # æµ‹è¯•å·¥å…·
â”‚   â””â”€â”€ ğŸ“ scripts/           # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ ğŸ“ sql/                   # æ•°æ®åº“è„šæœ¬ (æ•´åˆ)
â”‚   â”œâ”€â”€ ğŸ“ migrations/        # è¿ç§»è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“ patches/           # ä¿®å¤è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“ init/              # åˆå§‹åŒ–è„šæœ¬
â”‚   â””â”€â”€ ğŸ“ test/              # æµ‹è¯•æ•°æ®
â”œâ”€â”€ ğŸ“ docs/                  # é¡¹ç›®æ–‡æ¡£ (æ–°å»º)
â”œâ”€â”€ ğŸ“ data/                  # æ•°æ®æ–‡ä»¶
â”œâ”€â”€ ğŸ“ logs/                  # æ—¥å¿—æ–‡ä»¶ (ä¿æŒ)
â”œâ”€â”€ ğŸ“ backups/              # å¤‡ä»½æ–‡ä»¶ (ä¿æŒ)
â”œâ”€â”€ ğŸ“ uploads/              # ä¸Šä¼ æ–‡ä»¶ (ä¿æŒ)
â””â”€â”€ ğŸ“„ é…ç½®å’Œæ ¸å¿ƒæ–‡ä»¶        # æ ¹ç›®å½•åªä¿ç•™å¿…è¦æ–‡ä»¶
```

## ğŸ“‹ è¯¦ç»†æ•´ç†è®¡åˆ’

### ç¬¬ä¸€æ­¥: åˆ›å»ºæ–°ç›®å½•ç»“æ„
- [x] åˆ†æç°æœ‰æ–‡ä»¶
- [ ] åˆ›å»ºtools/ç›®å½•åŠå­ç›®å½•
- [ ] åˆ›å»ºdocs/ç›®å½•
- [ ] é‡ç»„sql/ç›®å½•

### ç¬¬äºŒæ­¥: ç§»åŠ¨å·¥å…·è„šæœ¬
**æ•°æ®åº“å·¥å…·** â†’ `tools/database/`
- check_db_schema.rs
- patch_database.rs
- migrate_db.rs
- check_db_structure.rs
- update_tag_counts.rs

**ç®¡ç†å·¥å…·** â†’ `tools/admin/`
- generate_admin_password.rs
- fix_user_status.rs
- init_security_tables.rs

**æµ‹è¯•å·¥å…·** â†’ `tools/test/`
- test_*.rs (12ä¸ªæµ‹è¯•è„šæœ¬)
- simple_*.rs (æµ‹è¯•è„šæœ¬)

**æ ‡ç­¾å·¥å…·** â†’ `tools/tags/` (è€ƒè™‘ç”¨Python)
- check_english_tags.py
- complete_replace_tags.py
- fix_tags_table.rs

### ç¬¬ä¸‰æ­¥: æ•´åˆSQLè„šæœ¬
**åˆå§‹åŒ–è„šæœ¬** â†’ `sql/init/`
- init.sql
- init_system_tables.sql
- create_*.sql (è¡¨åˆ›å»ºè„šæœ¬)

**è¿ç§»è„šæœ¬** â†’ `sql/migrations/`
- migrate_*.sql
- add_*.sql (æ·»åŠ å­—æ®µçš„è„šæœ¬)

**ä¿®å¤è„šæœ¬** â†’ `sql/patches/`
- fix_*.sql
- patch_database_settings.sql

**æµ‹è¯•æ•°æ®** â†’ `sql/test/`
- create_sample_data.sql
- create_test_posts.sql
- test_*.sql

### ç¬¬å››æ­¥: æ•´ç†æ–‡æ¡£
**é¡¹ç›®æ–‡æ¡£** â†’ `docs/`
- README_*.md
- åŠŸèƒ½æ›´æ–°æ€»ç»“.md
- å®Œæ•´é—®é¢˜æ£€æµ‹æŠ¥å‘Š.md
- IPå°ç¦ç³»ç»Ÿå®ç°æ€»ç»“.md
- ç­‰ç­‰...

### ç¬¬äº”æ­¥: æ¸…ç†å’Œä¼˜åŒ–
**åˆ é™¤é‡å¤æ–‡ä»¶**:
- æ—§ç‰ˆæœ¬çš„openapi.yaml
- é‡å¤çš„é…ç½®æ–‡ä»¶
- è¿‡æœŸçš„æµ‹è¯•è„šæœ¬

**ä¿ç•™åœ¨æ ¹ç›®å½•**:
- Cargo.toml
- config.toml
- data.db, data.db.backup
- start.bat, è‡ªåŠ¨éƒ¨ç½².bat (ä¸»è¦å¯åŠ¨è„šæœ¬)

## ğŸ” è„šæœ¬åŠŸèƒ½åˆ†æ

### å¯ä»¥åˆå¹¶çš„è„šæœ¬
1. **æ•°æ®åº“æ£€æŸ¥è„šæœ¬**: 
   - check_db_schema.rs
   - check_db_structure.rs  
   - check_tables.rs
   â†’ åˆå¹¶ä¸ºä¸€ä¸ªç»¼åˆæ£€æŸ¥å·¥å…·

2. **ç”¨æˆ·ä¿®å¤è„šæœ¬**:
   - fix_user_status.rs
   - fix_user_actions_table.sql
   - check_user_actions.rs
   â†’ åˆå¹¶ä¸ºç”¨æˆ·æ•°æ®ä¿®å¤å·¥å…·

3. **æ ‡ç­¾å¤„ç†è„šæœ¬**:
   - fix_tags_table.rs
   - check_tags_table.rs
   - Pythonæ ‡ç­¾è„šæœ¬
   â†’ ç»Ÿä¸€ä¸ºæ ‡ç­¾ç®¡ç†å·¥å…·

### å¯ä»¥åˆ é™¤çš„æ–‡ä»¶
- debug_*.rs (è°ƒè¯•ç”¨ï¼Œå¯åˆ é™¤)
- simple_test.rs (ç®€å•æµ‹è¯•ï¼Œå¯åˆ é™¤)
- è¿‡æœŸçš„SQLæ–‡ä»¶
- é‡å¤çš„æ–‡æ¡£

## âš¡ æ‰§è¡Œä¼˜å…ˆçº§

### é«˜ä¼˜å…ˆçº§ (ç«‹å³æ‰§è¡Œ)
1. åˆ›å»ºæ–°ç›®å½•ç»“æ„
2. ç§»åŠ¨æ–‡æ¡£æ–‡ä»¶
3. æ•´ç†SQLè„šæœ¬

### ä¸­ä¼˜å…ˆçº§ (è¿‘æœŸæ‰§è¡Œ)  
1. ç§»åŠ¨å·¥å…·è„šæœ¬
2. æ›´æ–°Cargo.tomlä¸­çš„binè·¯å¾„
3. åˆå¹¶é‡å¤åŠŸèƒ½çš„è„šæœ¬

### ä½ä¼˜å…ˆçº§ (åç»­ä¼˜åŒ–)
1. åˆ é™¤æ— ç”¨æ–‡ä»¶
2. åˆ›å»ºç»Ÿä¸€çš„å·¥å…·å…¥å£
3. ç¼–å†™æ–°çš„README

## ğŸ›¡ï¸ å®‰å…¨è€ƒè™‘

### å¤‡ä»½ç­–ç•¥
- æ‰§è¡Œæ•´ç†å‰åˆ›å»ºå®Œæ•´é¡¹ç›®å¤‡ä»½
- ä¿ç•™åŸå§‹SQLè„šæœ¬å‰¯æœ¬
- åˆ†æ­¥éª¤æ‰§è¡Œï¼Œæ¯æ­¥éƒ½å¯å›æ»š

### ä¾èµ–æ£€æŸ¥
- æ£€æŸ¥Cargo.tomlä¸­çš„binå®šä¹‰
- ç¡®è®¤æ²¡æœ‰ç¡¬ç¼–ç çš„è·¯å¾„å¼•ç”¨
- æµ‹è¯•å·¥å…·è„šæœ¬åœ¨æ–°ä½ç½®çš„è¿è¡Œ

### éªŒè¯æ­¥éª¤
- æ¯æ¬¡ç§»åŠ¨åéªŒè¯ç¼–è¯‘é€šè¿‡
- æµ‹è¯•ä¸»è¦åŠŸèƒ½æ­£å¸¸
- ç¡®è®¤æ•°æ®åº“æ“ä½œå®‰å…¨ 