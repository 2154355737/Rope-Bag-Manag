import{a as c,r as o}from"../assets/index-D3Kp6etV.js";const d={getPackages:e=>{const a=new URLSearchParams;return e?.page&&a.append("page",e.page.toString()),e?.pageSize&&a.append("page_size",e.pageSize.toString()),e?.category_id!==void 0&&(console.log("添加分类过滤:",e.category_id),a.append("category_id",e.category_id.toString())),e?.status&&a.append("status",e.status),e?.search&&a.append("search",e.search),console.log("请求参数:",a.toString()),c.get(`/v1/packages?${a.toString()}`)},getPackage:e=>c.get(`/v1/packages/${e}`),createPackage:e=>c.post("/v1/packages",e).then(a=>(a.code===0&&a.data&&a.data.id&&(console.log("自动记录创建绳包操作:",a.data.id),o.logCreate(a.data.id,"Package",a.data).catch(t=>console.error("记录创建操作失败:",t))),a)),userSubmitResource:e=>c.post("/v1/packages/user-submit",e),adminCreatePackage:e=>c.post("/v1/packages/admin-create",e).then(a=>(a.code===0&&a.data&&a.data.id&&(console.log("自动记录管理员创建绳包操作:",a.data.id),o.logCreate(a.data.id,"Package",a.data).catch(t=>console.error("记录创建操作失败:",t))),a)),updatePackage:(e,a)=>c.put(`/v1/packages/${e}`,a).then(t=>(t.code===0&&(console.log("自动记录更新绳包操作:",e),o.logUpdate(e,"Package",null,t.data).catch(g=>console.error("记录更新操作失败:",g))),t)),deletePackage:e=>c.delete(`/v1/packages/${e}`).then(a=>(a.code===0&&(console.log("自动记录删除绳包操作:",e),o.logDelete(e,"Package").catch(t=>console.error("记录删除操作失败:",t))),a)),downloadPackage:e=>c.get(`/v1/packages/${e}/download`).then(a=>(a.code===0&&(console.log("自动记录下载绳包操作:",e),o.logDownload(e,"Package").catch(t=>console.error("记录下载操作失败:",t))),a)),uploadPackageFile:(e,a)=>{const t=new FormData;return t.append("file",a),c.upload(`/v1/packages/${e}/upload`,t).then(g=>(g.code===0&&(console.log("自动记录上传绳包操作:",e),o.logUpload(e,"Package",{filename:a.name,size:a.size}).catch(r=>console.error("记录上传操作失败:",r))),g))},getPendingResources:e=>c.get("/v1/packages/pending",{params:e}),reviewResource:(e,a)=>c.post(`/v1/packages/${e}/review`,a)};export{d as p};
