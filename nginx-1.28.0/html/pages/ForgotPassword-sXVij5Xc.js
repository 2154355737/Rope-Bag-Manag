import{x as y,r as m,X as b,y as w,A as V,Q as o,I as t,al as n,M as f,O as k,u as C,ax as R,z as h}from"../chunks/vue-vendor-BleHOoLr.js";import{_ as B}from"../assets/index-C3B7XhMB.js";import{a as E}from"../chunks/auth-nPQHqB8E.js";import{R as F,I as d}from"../chunks/element-plus-D5w7-vkF.js";import"../chunks/utils-Dq7h7Pqt.js";const I={class:"forgot-container"},N=y({__name:"ForgotPassword",setup(q){const p=R(),s=m(null),a=m(!1),l=b({email:""}),c={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"格式不正确",trigger:"blur"}]};async function _(){if(!s.value)return;await s.value.validate(),a.value=!0;const r=await E.resetRequest(l.email);a.value=!1,r.code===0?d.success("已发送重置邮件，请检查邮箱"):d.error(r.message||"发送失败")}function g(){p.push("/login")}return(r,e)=>{const v=n("el-input"),i=n("el-form-item"),u=n("el-button");return h(),w("div",I,[e[2]||(e[2]=V("h2",null,"忘记密码",-1)),o(C(F),{model:l,rules:c,ref_key:"formRef",ref:s,"label-width":"80px",style:{"max-width":"360px"}},{default:t(()=>[o(i,{label:"邮箱",prop:"email"},{default:t(()=>[o(v,{modelValue:l.email,"onUpdate:modelValue":e[0]||(e[0]=x=>l.email=x),placeholder:"请输入注册邮箱"},null,8,["modelValue"])]),_:1}),o(i,null,{default:t(()=>[o(u,{type:"primary",loading:a.value,onClick:_},{default:t(()=>[f(k(a.value?"发送中...":"发送重置邮件"),1)]),_:1},8,["loading"]),o(u,{onClick:g},{default:t(()=>e[1]||(e[1]=[f("返回登录")])),_:1,__:[1]})]),_:1})]),_:1},8,["model"])])}}}),D=B(N,[["__scopeId","data-v-1c8515f0"]]);export{D as default};
