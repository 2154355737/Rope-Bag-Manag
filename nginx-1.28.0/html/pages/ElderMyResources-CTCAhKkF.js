import{x as Se,r as k,X as A,c as T,j as je,y as v,A as n,Q as t,I as l,M as i,al as p,u as b,O as f,a4 as oe,J as Ae,ar as Te,K as D,P as E,a6 as M,D as Ye,H as h,z as r}from"../chunks/vue-vendor-BleHOoLr.js";import{o as Be,af as Ke,F as ne,f as de,a2 as ee,C as Le,A as Ne,_ as qe,K as m,E as Oe}from"../chunks/element-plus-Cc1YNc_4.js";import{p as Y}from"../chunks/packages-DTwnlaPG.js";import{g as He,_ as Je}from"../assets/index-B_N-aWSj.js";import{c as Qe}from"../chunks/categories-BGQr79qD.js";import{c as Xe}from"../chunks/posts-B23axQf4.js";import"../chunks/utils-Dq7h7Pqt.js";const Ge={class:"elder-my-resources-page"},We={class:"page-header"},Ze={class:"header-content"},et={class:"header-actions"},tt={class:"stat-content"},lt={class:"stat-icon"},at={class:"stat-info"},st={class:"stat-number"},ot={class:"stat-content"},nt={class:"stat-icon"},dt={class:"stat-info"},it={class:"stat-number"},rt={class:"stat-content"},ut={class:"stat-icon"},pt={class:"stat-info"},mt={class:"stat-number"},_t={class:"stat-content"},ct={class:"stat-icon"},ft={class:"stat-info"},gt={class:"stat-number"},vt={key:0,class:"empty-state"},yt={key:1,class:"resource-grid"},kt={class:"resource-header"},bt=["onClick"],wt={class:"resource-info"},Vt={class:"info-item"},Ct={class:"value"},ht={class:"info-item"},Ut={key:0,class:"info-item"},Rt={class:"rejection-reason"},xt={class:"resource-description"},It={class:"resource-stats"},zt={class:"stat-item"},Dt={class:"stat-item"},$t={class:"stat-item"},Pt={class:"resource-actions"},Ft={key:2,class:"pagination-wrapper"},Et={class:"tags-container"},Mt={class:"privilege-note"},St={class:"dialog-footer"},jt={key:0,class:"tags-display"},At={class:"dialog-footer"},Tt=Se({__name:"ElderMyResources",setup(Yt){const B=k(null),K=k(null),S=k(!1),L=k(!1),N=k(!1),q=k(!1),R=k(!1),$=k(!1),O=He(),x=k([]),H=k([]),J=k(null),Q=k(null),I=A({page:1,pageSize:12}),_=A({status:"",search:"",start_date:"",end_date:""}),o=A({type:"package",name:"",author:O?.username||"",version:"",description:"",category_id:void 0,file_url:"",skipReview:!1,tags:[],tagsInput:""}),d=A({name:"",version:"",description:"",category_id:void 0,file_url:"",status:"Active",tagsInput:""}),te={name:[{required:!0,message:"请输入资源名称",trigger:"blur"},{min:2,max:50,message:"名称长度在 2 到 50 个字符之间",trigger:"blur"}],author:[{required:!0,message:"请输入作者名称",trigger:"blur"}],description:[{max:500,message:"描述不能超过 500 个字符",trigger:"blur"}],file_url:[{required:!0,message:"请输入文件链接",trigger:"blur"},{pattern:/^https?:\/\/.+/,message:"请输入有效的URL地址",trigger:"blur"}]},X=T(()=>x.value.length),ie=T(()=>x.value.filter(s=>s.status==="Active").length),re=T(()=>x.value.filter(s=>s.status==="Pending").length),ue=T(()=>x.value.reduce((s,e)=>s+e.download_count,0)),V=async()=>{S.value=!0;try{const s={page:I.page,pageSize:I.pageSize,..._,search:_.search||O?.username},e=await Y.getPackages(s);e.code===0&&(x.value=e.data?.list||[])}catch(s){console.error("加载资源列表失败:",s),m.error("加载资源列表失败")}finally{S.value=!1}},pe=async()=>{try{const s=await Qe.getCategories();s.code===0&&(H.value=s.data?.list||[])}catch(s){console.error("加载分类列表失败:",s)}},me=s=>{s&&s.length===2?(_.start_date=s[0],_.end_date=s[1]):(_.start_date="",_.end_date="")},_e=()=>{_.status="",_.search="",_.start_date="",_.end_date="",Q.value=null,I.page=1,V()},ce=(s,e)=>{switch(s){case"edit":G(e);break;case"view":window.open(`/resource/${e.id}`,"_blank");break;case"stats":fe();break;case"comments":ge(e);break;case"delete":he(e);break}},fe=s=>{m.info("资源统计功能开发中...")},ge=s=>{window.open(`/resource/${s.id}/comments`,"_blank")},G=s=>{J.value=s,d.name=s.name,d.version=s.version||"",d.description=s.description||"",d.category_id=s.category_id||void 0,d.file_url=s.file_url,d.status=s.status,d.tags=s.tags||[],d.tagsInput=(s.tags||[]).join(", "),d.is_pinned=s.is_pinned||!1,d.is_featured=s.is_featured||!1,$.value=!0},ve=()=>{if(d.tagsInput){const s=d.tagsInput.split(",").map(e=>e.trim()).filter(e=>e);d.tags=s}else d.tags=[]},ye=s=>{d.tags&&(d.tags=d.tags.filter(e=>e!==s),d.tagsInput=d.tags.join(", "))},ke=async()=>{if(!o.file_url){m.warning("请先输入文件链接");return}q.value=!0;try{await new Promise(s=>setTimeout(s,1e3)),m.success("链接验证通过")}catch{m.error("链接验证失败")}finally{q.value=!1}},be=()=>{const s=o.tagsInput?.trim();s&&s.length>0&&!o.tags.includes(s)&&(o.tags.push(s),o.tagsInput="")},we=s=>{const e=o.tags.indexOf(s);e>-1&&o.tags.splice(e,1)},Ve=async()=>{if(B.value)try{if(o.type==="package"&&!o.file_url){m.error("请填写文件链接");return}if(await B.value.validate(),L.value=!0,o.type==="package"){const{type:s,tags:e,tagsInput:g,skipReview:w,...U}=o,c=await Y.adminCreatePackage(U);c.code===0?(m.success(o.skipReview?"资源发布成功":"资源上传成功，等待审核"),R.value=!1,le(),V()):m.error(c.msg||"上传失败")}else{const s=await Xe({title:o.name,content:o.description,category_id:o.category_id,tags:o.tags,status:"Published"});s.code===0?(m.success("帖子发布成功"),R.value=!1,le(),V()):m.error(s.msg||"发布失败")}}catch(s){console.error("提交失败:",s),m.error(o.type==="package"?"上传失败":"发布失败")}finally{L.value=!1}},Ce=async()=>{if(!(!K.value||!J.value))try{await K.value.validate(),N.value=!0;const s=await Y.updatePackage(J.value.id,d);s.code===0?(m.success("资源更新成功"),$.value=!1,V()):m.error(s.message||"更新失败")}catch(s){console.error("更新资源失败:",s),m.error("更新失败")}finally{N.value=!1}},he=async s=>{try{await Oe.confirm(`确定要删除资源 "${s.name}" 吗？此操作不可恢复。`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const e=await Y.deletePackage(s.id);e.code===0?(m.success("删除成功"),V()):m.error(e.message||"删除失败")}catch(e){e!=="cancel"&&(console.error("删除资源失败:",e),m.error("删除失败"))}},le=()=>{Object.assign(o,{type:"package",name:"",author:O?.username||"",version:"",description:"",category_id:void 0,file_url:"",skipReview:!1,tags:[],tagsInput:""})},Ue=s=>({Active:"success",Pending:"warning",Rejected:"danger",Inactive:"info"})[s]||"info",Re=s=>({Active:"已发布",Pending:"审核中",Rejected:"已拒绝",Inactive:"已下架"})[s]||s,xe=s=>new Date(s).toLocaleDateString("zh-CN");return je(()=>{V(),pe()}),(s,e)=>{const g=p("el-button"),w=p("el-icon"),U=p("el-card"),c=p("el-col"),P=p("el-row"),C=p("el-option"),j=p("el-select"),u=p("el-form-item"),y=p("el-input"),Ie=p("el-date-picker"),ze=p("el-empty"),F=p("el-dropdown-item"),De=p("el-dropdown-menu"),$e=p("el-dropdown"),W=p("el-tag"),Pe=p("el-tooltip"),Fe=p("el-pagination"),ae=p("el-radio"),Ee=p("el-radio-group"),Z=p("el-checkbox"),se=p("el-dialog"),Me=Te("loading");return r(),v("div",Ge,[n("div",We,[n("div",Ze,[e[30]||(e[30]=n("h2",null,"我的内容",-1)),n("div",et,[t(g,{type:"primary",icon:"Plus",onClick:e[0]||(e[0]=a=>R.value=!0)},{default:l(()=>e[29]||(e[29]=[i(" 提交内容 ")])),_:1,__:[29]})])])]),t(P,{gutter:20,class:"stats-row"},{default:l(()=>[t(c,{span:6},{default:l(()=>[t(U,{shadow:"hover",class:"stat-card"},{default:l(()=>[n("div",tt,[n("div",lt,[t(w,{color:"#409EFF"},{default:l(()=>[t(b(Be))]),_:1})]),n("div",at,[n("div",st,f(X.value),1),e[31]||(e[31]=n("div",{class:"stat-label"},"总内容数",-1))])])]),_:1})]),_:1}),t(c,{span:6},{default:l(()=>[t(U,{shadow:"hover",class:"stat-card"},{default:l(()=>[n("div",ot,[n("div",nt,[t(w,{color:"#67C23A"},{default:l(()=>[t(b(Ke))]),_:1})]),n("div",dt,[n("div",it,f(ie.value),1),e[32]||(e[32]=n("div",{class:"stat-label"},"已发布",-1))])])]),_:1})]),_:1}),t(c,{span:6},{default:l(()=>[t(U,{shadow:"hover",class:"stat-card"},{default:l(()=>[n("div",rt,[n("div",ut,[t(w,{color:"#E6A23C"},{default:l(()=>[t(b(ne))]),_:1})]),n("div",pt,[n("div",mt,f(re.value),1),e[33]||(e[33]=n("div",{class:"stat-label"},"审核中",-1))])])]),_:1})]),_:1}),t(c,{span:6},{default:l(()=>[t(U,{shadow:"hover",class:"stat-card"},{default:l(()=>[n("div",_t,[n("div",ct,[t(w,{color:"#F56C6C"},{default:l(()=>[t(b(de))]),_:1})]),n("div",ft,[n("div",gt,f(ue.value),1),e[34]||(e[34]=n("div",{class:"stat-label"},"总下载量",-1))])])]),_:1})]),_:1})]),_:1}),t(U,{shadow:"hover",class:"filter-card"},{default:l(()=>[t(b(ee),{model:_,inline:!0,class:"search-form"},{default:l(()=>[t(u,{label:"状态筛选:"},{default:l(()=>[t(j,{modelValue:_.status,"onUpdate:modelValue":e[1]||(e[1]=a=>_.status=a),placeholder:"全部状态",clearable:"",style:{width:"140px"}},{default:l(()=>[t(C,{label:"全部",value:""}),t(C,{label:"已发布",value:"Active"}),t(C,{label:"审核中",value:"Pending"}),t(C,{label:"已拒绝",value:"Rejected"}),t(C,{label:"已下架",value:"Inactive"})]),_:1},8,["modelValue"])]),_:1}),t(u,{label:"搜索:"},{default:l(()=>[t(y,{modelValue:_.search,"onUpdate:modelValue":e[2]||(e[2]=a=>_.search=a),placeholder:"输入资源名称",clearable:"",style:{width:"200px"},onKeyup:oe(V,["enter"])},null,8,["modelValue"])]),_:1}),t(u,{label:"创建时间:"},{default:l(()=>[t(Ie,{modelValue:Q.value,"onUpdate:modelValue":e[3]||(e[3]=a=>Q.value=a),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",style:{width:"240px"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:me},null,8,["modelValue"])]),_:1}),t(u,null,{default:l(()=>[t(g,{type:"primary",icon:"Search",onClick:V},{default:l(()=>e[35]||(e[35]=[i("搜索")])),_:1,__:[35]}),t(g,{icon:"Refresh",onClick:_e},{default:l(()=>e[36]||(e[36]=[i("重置")])),_:1,__:[36]})]),_:1})]),_:1},8,["model"])]),_:1}),t(U,{shadow:"hover",class:"resource-list-card"},{default:l(()=>[Ae((r(),v("div",null,[x.value.length===0&&!S.value?(r(),v("div",vt,[t(ze,{description:"还没有提交任何内容"},{default:l(()=>[t(g,{type:"primary",onClick:e[4]||(e[4]=a=>R.value=!0)},{default:l(()=>e[37]||(e[37]=[i(" 立即提交 ")])),_:1,__:[37]})]),_:1})])):(r(),v("div",yt,[(r(!0),v(E,null,M(x.value,a=>(r(),v("div",{key:a.id,class:Ye(["resource-card",{"pending-card":a.status==="Pending","rejected-card":a.status==="Rejected"}])},[n("div",kt,[n("div",{class:"resource-title",onClick:z=>s.$router.push(`/resource/${a.id}`)},f(a.name),9,bt),t($e,{onCommand:z=>ce(z,a)},{dropdown:l(()=>[t(De,null,{default:l(()=>[t(F,{command:"edit"},{default:l(()=>e[38]||(e[38]=[i("编辑")])),_:1,__:[38]}),t(F,{command:"view"},{default:l(()=>e[39]||(e[39]=[i("查看")])),_:1,__:[39]}),t(F,{command:"stats"},{default:l(()=>e[40]||(e[40]=[i("数据统计")])),_:1,__:[40]}),t(F,{command:"comments"},{default:l(()=>e[41]||(e[41]=[i("查看评论")])),_:1,__:[41]}),t(F,{command:"delete",divided:""},{default:l(()=>e[42]||(e[42]=[i("删除")])),_:1,__:[42]})]),_:1})]),default:l(()=>[t(g,{link:"",size:"small"},{default:l(()=>[t(w,null,{default:l(()=>[t(b(Le))]),_:1})]),_:1})]),_:2},1032,["onCommand"])]),n("div",wt,[n("div",Vt,[e[43]||(e[43]=n("span",{class:"label"},"版本:",-1)),n("span",Ct,f(a.version||"未设置"),1)]),n("div",ht,[e[44]||(e[44]=n("span",{class:"label"},"状态:",-1)),t(W,{type:Ue(a.status),size:"small"},{default:l(()=>[i(f(Re(a.status)),1)]),_:2},1032,["type"])]),a.status==="Rejected"&&a.review_comment?(r(),v("div",Ut,[e[45]||(e[45]=n("span",{class:"label"},"拒绝原因:",-1)),t(Pe,{content:a.review_comment,placement:"top"},{default:l(()=>[n("span",Rt,f(a.review_comment.substring(0,20))+"...",1)]),_:2},1032,["content"])])):D("",!0)]),n("div",xt,f(a.description||"暂无描述"),1),n("div",It,[n("div",zt,[t(w,null,{default:l(()=>[t(b(de))]),_:1}),n("span",null,f(a.download_count),1)]),n("div",Dt,[t(w,null,{default:l(()=>[t(b(Ne))]),_:1}),n("span",null,f(a.like_count||0),1)]),n("div",$t,[t(w,null,{default:l(()=>[t(b(ne))]),_:1}),n("span",null,f(xe(a.created_at)),1)])]),n("div",Pt,[a.status==="Rejected"?(r(),h(g,{key:0,type:"warning",size:"small",onClick:z=>G(a)},{default:l(()=>e[46]||(e[46]=[i(" 重新提交 ")])),_:2,__:[46]},1032,["onClick"])):(r(),h(g,{key:1,type:"primary",size:"small",onClick:z=>G(a)},{default:l(()=>e[47]||(e[47]=[i(" 编辑 ")])),_:2,__:[47]},1032,["onClick"])),t(g,{type:"success",size:"small",onClick:z=>s.$router.push(`/resource/${a.id}`)},{default:l(()=>e[48]||(e[48]=[i(" 查看详情 ")])),_:2,__:[48]},1032,["onClick"])])],2))),128))])),X.value>0?(r(),v("div",Ft,[t(Fe,{"current-page":I.page,"onUpdate:currentPage":e[5]||(e[5]=a=>I.page=a),"page-size":I.pageSize,"onUpdate:pageSize":e[6]||(e[6]=a=>I.pageSize=a),"page-sizes":[12,24,48],total:X.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:V,onCurrentChange:V},null,8,["current-page","page-size","total"])])):D("",!0)])),[[Me,S.value]])]),_:1}),t(se,{modelValue:R.value,"onUpdate:modelValue":e[17]||(e[17]=a=>R.value=a),title:"提交内容",width:"700px","close-on-click-modal":!1},{footer:l(()=>[n("div",St,[t(g,{onClick:e[16]||(e[16]=a=>R.value=!1)},{default:l(()=>e[54]||(e[54]=[i("取消")])),_:1,__:[54]}),t(g,{type:"primary",onClick:Ve,loading:L.value},{default:l(()=>[i(f(o.type==="package"?o.skipReview?"立即发布资源":"提交资源审核":"发布帖子"),1)]),_:1},8,["loading"])])]),default:l(()=>[t(b(ee),{model:o,rules:te,ref_key:"uploadFormRef",ref:B,"label-width":"100px"},{default:l(()=>[t(u,{label:"内容类型"},{default:l(()=>[t(Ee,{modelValue:o.type,"onUpdate:modelValue":e[7]||(e[7]=a=>o.type=a)},{default:l(()=>[t(ae,{label:"package"},{default:l(()=>e[49]||(e[49]=[i("资源")])),_:1,__:[49]}),t(ae,{label:"post"},{default:l(()=>e[50]||(e[50]=[i("帖子")])),_:1,__:[50]})]),_:1},8,["modelValue"])]),_:1}),t(P,{gutter:20},{default:l(()=>[t(c,{span:12},{default:l(()=>[t(u,{label:o.type==="package"?"资源名称":"帖子标题",prop:"name"},{default:l(()=>[t(y,{modelValue:o.name,"onUpdate:modelValue":e[8]||(e[8]=a=>o.name=a),placeholder:o.type==="package"?"请输入资源名称":"请输入帖子标题"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),o.type==="package"?(r(),h(c,{key:0,span:12},{default:l(()=>[t(u,{label:"作者",prop:"author"},{default:l(()=>[t(y,{modelValue:o.author,"onUpdate:modelValue":e[9]||(e[9]=a=>o.author=a),placeholder:"请输入作者名称"},null,8,["modelValue"])]),_:1})]),_:1})):D("",!0)]),_:1}),t(P,{gutter:20},{default:l(()=>[o.type==="package"?(r(),h(c,{key:0,span:12},{default:l(()=>[t(u,{label:"版本",prop:"version"},{default:l(()=>[t(y,{modelValue:o.version,"onUpdate:modelValue":e[10]||(e[10]=a=>o.version=a),placeholder:"请输入版本号（可选）"},null,8,["modelValue"])]),_:1})]),_:1})):D("",!0),t(c,{span:12},{default:l(()=>[t(u,{label:o.type==="package"?"资源分类":"帖子分类",prop:"category_id"},{default:l(()=>[t(j,{modelValue:o.category_id,"onUpdate:modelValue":e[11]||(e[11]=a=>o.category_id=a),placeholder:o.type==="package"?"请选择资源分类":"请选择帖子分类",style:{width:"100%"}},{default:l(()=>[(r(!0),v(E,null,M(H.value,a=>(r(),h(C,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1}),t(u,{label:o.type==="package"?"资源描述":"帖子内容",prop:"description"},{default:l(()=>[t(y,{modelValue:o.description,"onUpdate:modelValue":e[12]||(e[12]=a=>o.description=a),type:"textarea",rows:4,placeholder:o.type==="package"?"请输入资源描述":"请输入帖子内容","show-word-limit":"",maxlength:"500"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(u,{label:"标签"},{default:l(()=>[t(y,{modelValue:o.tagsInput,"onUpdate:modelValue":e[13]||(e[13]=a=>o.tagsInput=a),placeholder:"输入标签，用逗号分隔",onKeyup:oe(be,["enter"]),clearable:""},null,8,["modelValue"]),n("div",Et,[(r(!0),v(E,null,M(o.tags,a=>(r(),h(W,{key:a,closable:"",onClose:z=>we(a),effect:"light"},{default:l(()=>[i(f(a),1)]),_:2},1032,["onClose"]))),128))])]),_:1}),o.type==="package"?(r(),h(u,{key:0,label:"文件链接",prop:"file_url"},{default:l(()=>[t(y,{modelValue:o.file_url,"onUpdate:modelValue":e[14]||(e[14]=a=>o.file_url=a),placeholder:"请输入文件下载链接"},{append:l(()=>[t(g,{onClick:ke,loading:q.value},{default:l(()=>e[51]||(e[51]=[i(" 验证链接 ")])),_:1,__:[51]},8,["loading"])]),_:1},8,["modelValue"])]),_:1})):D("",!0),o.type==="package"?(r(),h(u,{key:1,label:"元老特权"},{default:l(()=>[t(Z,{modelValue:o.skipReview,"onUpdate:modelValue":e[15]||(e[15]=a=>o.skipReview=a)},{default:l(()=>e[52]||(e[52]=[i(" 跳过审核（直接发布） ")])),_:1,__:[52]},8,["modelValue"]),n("div",Mt,[t(w,null,{default:l(()=>[t(b(qe))]),_:1}),e[53]||(e[53]=n("span",null,"作为元老，您可以选择跳过审核流程直接发布资源",-1))])]),_:1})):D("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue"]),t(se,{modelValue:$.value,"onUpdate:modelValue":e[28]||(e[28]=a=>$.value=a),title:"编辑资源",width:"700px","close-on-click-modal":!1},{footer:l(()=>[n("div",At,[t(g,{onClick:e[27]||(e[27]=a=>$.value=!1)},{default:l(()=>e[57]||(e[57]=[i("取消")])),_:1,__:[57]}),t(g,{type:"primary",onClick:Ce,loading:N.value},{default:l(()=>e[58]||(e[58]=[i(" 保存修改 ")])),_:1,__:[58]},8,["loading"])])]),default:l(()=>[t(b(ee),{model:d,rules:te,ref_key:"editFormRef",ref:K,"label-width":"100px"},{default:l(()=>[t(P,{gutter:20},{default:l(()=>[t(c,{span:12},{default:l(()=>[t(u,{label:"资源名称",prop:"name"},{default:l(()=>[t(y,{modelValue:d.name,"onUpdate:modelValue":e[18]||(e[18]=a=>d.name=a),placeholder:"请输入资源名称"},null,8,["modelValue"])]),_:1})]),_:1}),t(c,{span:12},{default:l(()=>[t(u,{label:"版本",prop:"version"},{default:l(()=>[t(y,{modelValue:d.version,"onUpdate:modelValue":e[19]||(e[19]=a=>d.version=a),placeholder:"请输入版本号（可选）"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(P,{gutter:20},{default:l(()=>[t(c,{span:12},{default:l(()=>[t(u,{label:"分类",prop:"category_id"},{default:l(()=>[t(j,{modelValue:d.category_id,"onUpdate:modelValue":e[20]||(e[20]=a=>d.category_id=a),placeholder:"请选择分类",style:{width:"100%"}},{default:l(()=>[(r(!0),v(E,null,M(H.value,a=>(r(),h(C,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(c,{span:12},{default:l(()=>[t(u,{label:"状态控制"},{default:l(()=>[t(j,{modelValue:d.status,"onUpdate:modelValue":e[21]||(e[21]=a=>d.status=a),placeholder:"选择状态",style:{width:"100%"}},{default:l(()=>[t(C,{label:"已发布",value:"Active"}),t(C,{label:"待审核",value:"Pending"}),t(C,{label:"已下架",value:"Inactive"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(u,{label:"资源描述",prop:"description"},{default:l(()=>[t(y,{modelValue:d.description,"onUpdate:modelValue":e[22]||(e[22]=a=>d.description=a),type:"textarea",rows:4,placeholder:"请输入资源描述","show-word-limit":"",maxlength:"500"},null,8,["modelValue"])]),_:1}),t(u,{label:"文件链接",prop:"file_url"},{default:l(()=>[t(y,{modelValue:d.file_url,"onUpdate:modelValue":e[23]||(e[23]=a=>d.file_url=a),placeholder:"请输入文件下载链接"},null,8,["modelValue"])]),_:1}),t(u,{label:"标签",prop:"tags"},{default:l(()=>[t(y,{modelValue:d.tagsInput,"onUpdate:modelValue":e[24]||(e[24]=a=>d.tagsInput=a),placeholder:"请输入标签，用逗号分隔",onInput:ve},null,8,["modelValue"]),d.tags&&d.tags.length>0?(r(),v("div",jt,[(r(!0),v(E,null,M(d.tags,a=>(r(),h(W,{key:a,closable:"",onClose:z=>ye(a),style:{margin:"4px 4px 0 0"}},{default:l(()=>[i(f(a),1)]),_:2},1032,["onClose"]))),128))])):D("",!0)]),_:1}),t(u,{label:"状态设置"},{default:l(()=>[t(Z,{modelValue:d.is_pinned,"onUpdate:modelValue":e[25]||(e[25]=a=>d.is_pinned=a)},{default:l(()=>e[55]||(e[55]=[i("置顶")])),_:1,__:[55]},8,["modelValue"]),t(Z,{modelValue:d.is_featured,"onUpdate:modelValue":e[26]||(e[26]=a=>d.is_featured=a)},{default:l(()=>e[56]||(e[56]=[i("精华")])),_:1,__:[56]},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),Jt=Je(Tt,[["__scopeId","data-v-bcc0a1f3"]]);export{Jt as default};
